@using System.Web.Optimization
@model dynamic

@section Scripts
{
    @Scripts.Render("~/Scripts/Custom/KnockoutSinglePage.js","~/Scripts/sammy-0.7.4.js")
}

@section  Header
{
    Lets Check the cool thing called KnockoutJS.
    Single page application.
}


<div class="row-fluid">
    <div class="span12">
        <div class="knockout-container-collapser collapse-header-transitions">
            Collapser
        </div>
        <div class="container-fluid knockout-container collapse-transitions">
            <ul class="nav nav-pills tab-menu" data-bind="foreach: folders">
                <li data-bind="css: $root.tabClass($data), click: $root.goToFolder">
                    <a data-bind="text: $data"> </a>
                </li>
            </ul>
            
            <div>
                <table class="knockout-table " data-bind="css: { hidden: chosenMailData() != null || folderData() == null}">
                    <thead>
                        <tr>
                            <th>From</th>
                            <th>To</th>
                            <th>Date</th>
                            <th>Subject</th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: folderData">
                        <tr class="selectable" data-bind="click: $root.selectMail">
                            <td data-bind="text: from"></td>
                            <td data-bind="text: to"></td>
                            <td data-bind="text: date"></td>
                            <td data-bind="text: subject "></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div>
                <div data-bind="with: chosenMailData">
                    <h2 data-bind="text: subject"> </h2>
                    <p><span>From: </span> <span data-bind="text: from"> </span> </p>
                    <p><span>To: </span> <span data-bind="text: to"> </span> </p>
                    <p><span>Date: </span> <span data-bind="text: date"> </span> </p>
                    
                    <p data-bind="text: body">
                        
                    </p>
                </div>

            </div>
        </div>
    </div>
</div>
